<html>
  <head>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js">
AFRAME.registerComponent('modify-materials', {
      init: function () {
        // Wait for model to load.
        this.el.addEventListener('model-loaded', () => {
          // Grab the mesh / scene.
          const obj = this.el.getObject3D('mesh');
          // Go over the submeshes and modify materials we want.
          obj.traverse(node => {
            if (node.name.indexOf('ship') !== -1) {
              node.material.color.set('red');
            }
          });
        });
      }
    });

    </script>
    
  </head>
  <body>


    <a-scene>
        <!-- Camera. -->
      <a-entity id="cameraWrapper" position="0 1.6 8">
        <a-entity id="camera" camera look-controls wasd-controls>
          <!-- Cursor. -->
          <a-entity id="cursor" position="0 0 -2"
                    geometry="primitive: ring; radiusOuter: 0.016; radiusInner: 0.01"
                    material="color: #ff9; shader: flat; transparent: true; opacity: 0.5"
                    scale="2 2 2" raycaster>
          </a-entity>
        </a-entity>
      </a-entity>
<a-assets>
        <a-asset-item id="cityModel" src="/空展場_12_17.glb" scale="10 10 10"></a-asset-item>
      </a-assets>
      <a-entity gltf-model="#cityModel" modify-materials></a-entity>
      <a-sky id="image1" radius="1" src="/360images/1.jpg" position="0 1.6 7 "  rotation="0 270 0"
             animation__fade="property: components.material.material.color; type: color; from: #FFF; to: #000; dur: 3000; startEvents: fade"
             animation__fadeback="property: components.material.material.color; type: color; from: #000; to: #FFF; dur: 3000; startEvents: animationcomplete__fade"  rotation="0 -90 0">
            </a-sky>

    </a-scene>


  </body>
</html>
